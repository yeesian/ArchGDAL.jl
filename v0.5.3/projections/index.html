<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Spatial Projections · ArchGDAL.jl</title><link rel="canonical" href="https://yeesian.com/ArchGDAL.jl/projections/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">ArchGDAL.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">ArchGDAL.jl documentation</a></li><li><a class="tocitem" href="../quickstart/">ArchGDAL Quickstart Guide</a></li><li><a class="tocitem" href="../datasets/">GDAL Datasets</a></li><li><a class="tocitem" href="../features/">Feature Data</a></li><li><a class="tocitem" href="../rasters/">Raster Data</a></li><li><a class="tocitem" href="../tables/">Tables Interface</a></li><li><a class="tocitem" href="../geometries/">Geometric Operations</a></li><li class="is-active"><a class="tocitem" href>Spatial Projections</a><ul class="internal"><li><a class="tocitem" href="#Coordinate-Systems"><span>Coordinate Systems</span></a></li><li><a class="tocitem" href="#Creating-Spatial-References"><span>Creating Spatial References</span></a></li><li><a class="tocitem" href="#Reprojecting-a-Geometry"><span>Reprojecting a Geometry</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../memory/">Interactive versus Scoped Objects</a></li><li><a class="tocitem" href="../considerations/">Design Considerations</a></li><li><a class="tocitem" href="../reference/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Spatial Projections</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Spatial Projections</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/yeesian/ArchGDAL.jl/blob/master/docs/src/projections.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Spatial-Projections"><a class="docs-heading-anchor" href="#Spatial-Projections">Spatial Projections</a><a id="Spatial-Projections-1"></a><a class="docs-heading-anchor-permalink" href="#Spatial-Projections" title="Permalink"></a></h1><p>(This is based entirely on the <a href="http://www.gdal.org/osr_tutorial.html">GDAL/OSR Tutorial</a> and <a href="https://pcjericks.github.io/py-gdalogr-cookbook/projection.html">Python GDAL/OGR Cookbook</a>.)</p><p>The <code>ArchGDAL.SpatialRef</code>, and <code>ArchGDAL.CoordTransform</code> types are lightweight wrappers around GDAL objects that represent coordinate systems (projections and datums) and provide services to transform between them. These services are loosely modeled on the OpenGIS Coordinate Transformations specification, and use the same Well Known Text format for describing coordinate systems.</p><h2 id="Coordinate-Systems"><a class="docs-heading-anchor" href="#Coordinate-Systems">Coordinate Systems</a><a id="Coordinate-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinate-Systems" title="Permalink"></a></h2><p>There are two primary kinds of coordinate systems. The first is geographic (positions are measured in long/lat) and the second is projected (such as UTM - positions are measured in meters or feet).</p><ul><li><p><strong>Geographic Coordinate Systems</strong>: A Geographic coordinate system contains information on the datum (which implies an spheroid described by a semi-major axis, and inverse flattening), prime meridian (normally Greenwich), and an angular units type which is normally degrees.</p></li><li><p><strong>Projected Coordinate Systems</strong>: A projected coordinate system (such as UTM, Lambert Conformal Conic, etc) requires and underlying geographic coordinate system as well as a definition for the projection transform used to translate between linear positions (in meters or feet) and angular long/lat positions.</p></li></ul><h2 id="Creating-Spatial-References"><a class="docs-heading-anchor" href="#Creating-Spatial-References">Creating Spatial References</a><a id="Creating-Spatial-References-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Spatial-References" title="Permalink"></a></h2><pre><code class="language-julia">spatialref = ArchGDAL.importEPSG(2927)</code></pre><pre class="documenter-example-output">Spatial Reference System: +proj=lcc +lat_0=45.3333333333333 + ... _defs</pre><pre><code class="language-julia">ArchGDAL.toPROJ4(spatialref)</code></pre><pre class="documenter-example-output">&quot;+proj=lcc +lat_0=45.3333333333333 +lon_0=-120.5 +lat_1=47.3333333333333 +lat_2=45.8333333333333 +x_0=500000.0001016 +y_0=0 +ellps=GRS80 +units=us-ft +no_defs&quot;</pre><p>The details of how to interpret the results can be found in http://proj4.org/usage/projections.html.</p><p>In the above example, we constructed a <code>SpatialRef</code> object from the <a href="http://spatialreference.org/ref/epsg/2927/">EPSG Code 2927</a>. There are a variety of other formats from which <code>SpatialRef</code>s can be constructed, such as</p><ul><li><a href="../reference/#ArchGDAL.importEPSG-Tuple{Integer}"><code>ArchGDAL.importEPSG(::Int)</code></a>: based on the <a href="http://spatialreference.org/ref/epsg/">EPSG code</a></li><li><a href="../reference/#ArchGDAL.importEPSGA-Tuple{Integer}"><code>ArchGDAL.importEPSGA(::Int)</code></a>: based on the EPSGA code</li><li><a href="../reference/#ArchGDAL.importESRI-Tuple{AbstractString}"><code>ArchGDAL.importESRI(::String)</code></a>: based on ESRI projection codes</li><li>[<code>ArchGDAL.importPROJ4(::String)</code> based on the PROJ.4 string (<a href="http://proj4.org/usage/projections.html">reference</a>)</li><li><a href="../reference/#ArchGDAL.importURL-Tuple{AbstractString}"><code>ArchGDAL.importURL(::String)</code></a>: download from a given URL and feed it into <code>SetFromUserInput</code> for you.</li><li><a href="../reference/#ArchGDAL.importWKT-Tuple{AbstractString}"><code>ArchGDAL.importWKT(::String)</code></a>: WKT string</li><li><a href="../reference/#ArchGDAL.importXML-Tuple{AbstractString}"><code>ArchGDAL.importXML(::String)</code></a>: XML format (GML only currently)</li></ul><p>We currently support a few export formats too:</p><ul><li><a href="../reference/#ArchGDAL.toMICoordSys-Tuple{ArchGDAL.AbstractSpatialRef}"><code>ArchGDAL.toMICoordSys(spref)</code></a>: Mapinfo style CoordSys format.</li><li><a href="../reference/#ArchGDAL.toPROJ4-Tuple{ArchGDAL.AbstractSpatialRef}"><code>ArchGDAL.toPROJ4(spref)</code></a>: coordinate system in PROJ.4 format.</li><li><a href="../reference/#ArchGDAL.toWKT-Tuple{ArchGDAL.AbstractGeometry}"><code>ArchGDAL.toWKT(spref)</code></a>: nicely formatted WKT string for display to a person.</li><li><a href="../reference/#ArchGDAL.toXML-Tuple{ArchGDAL.AbstractSpatialRef}"><code>ArchGDAL.toXML(spref)</code></a>: converts into XML format to the extent possible.</li></ul><h2 id="Reprojecting-a-Geometry"><a class="docs-heading-anchor" href="#Reprojecting-a-Geometry">Reprojecting a Geometry</a><a id="Reprojecting-a-Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Reprojecting-a-Geometry" title="Permalink"></a></h2><pre><code class="language-julia">source = ArchGDAL.importEPSG(2927)</code></pre><pre class="documenter-example-output">Spatial Reference System: +proj=lcc +lat_0=45.3333333333333 + ... _defs</pre><pre><code class="language-julia">target = ArchGDAL.importEPSG(4326)</code></pre><pre class="documenter-example-output">Spatial Reference System: +proj=longlat +datum=WGS84 +no_defs</pre><pre><code class="language-julia">ArchGDAL.createcoordtrans(source, target) do transform
    point = ArchGDAL.fromWKT(&quot;POINT (1120351.57 741921.42)&quot;)
    println(&quot;Before: $(ArchGDAL.toWKT(point))&quot;)
    ArchGDAL.transform!(point, transform)
    println(&quot;After: $(ArchGDAL.toWKT(point))&quot;)
end</code></pre><pre class="documenter-example-output">Before: POINT (1120351.57 741921.42)
After: POINT (47.3488070138318 -122.598149943144)</pre><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><p>Some background on OpenGIS coordinate systems and services can be found in the Simple Features for COM, and Spatial Reference Systems Abstract Model documents available from the <a href="https://www.opengeospatial.org/">Open Geospatial Consortium</a>. The <a href="http://geotiff.maptools.org/proj_list/">GeoTIFF Projections Transform List</a> may also be of assistance in understanding formulations of projections in WKT. The <a href="http://www.epsg.org/">EPSG</a> Geodesy web page is also a useful resource. You may also consult the <a href="https://gdal.org/tutorials/wktproblems.html">OGC WKT Coordinate System Issues</a> page.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../geometries/">« Geometric Operations</a><a class="docs-footer-nextpage" href="../memory/">Interactive versus Scoped Objects »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 22 January 2021 00:46">Friday 22 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
